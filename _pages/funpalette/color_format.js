function RGBA_to_LAB(t){var o=t.toRGBA(),r=o[0]/255,i=o[1]/255,e=o[2]/255;r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,e>.04045?e=Math.pow((e+.055)/1.055,2.4):e/=12.92;var c=(.4124*(r*=100)+.3576*(i*=100)+.1805*(e*=100))/95.047,h=(.2126*r+.7152*i+.0722*e)/100,a=(.0193*r+.1192*i+.9505*e)/108.883;c=c>.008856?Math.pow(c,1/3):7.787*c+16/116;return[116*(h=h>.008856?Math.pow(h,1/3):7.787*h+16/116)-16,500*(c-h),200*(h-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]}function LAB_Distance(t,o){return(Math.pow(t[0]-o[0],2)+Math.pow(t[1]-o[1],2)+Math.pow(t[2]-o[2],2))/100}class ColorPoint{constructor(t,o){this.pickr=new Pickr({el:t,default:o,theme:"classic",lockOpacity:!0,components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!0,rgba:!0,hsva:!0,input:!0,clear:!0,save:!1}}}),this.pickr.on("change",t=>{this.LAB=RGBA_to_LAB(t),this.pickr.applyColor()}).on("init",()=>{this.LAB=RGBA_to_LAB(this.pickr._color)}),this.LAB=RGBA_to_LAB(this.pickr._color)}remove_element(){const t=this.pickr.getRoot().root;t.parentElement.removeChild(t)}get_color(){return this.pickr._color.toHEXA().toString()}set_color(t){this.pickr.setColor(t)}}